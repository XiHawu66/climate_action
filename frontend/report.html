<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Recommendations</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/prettyPhoto.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script src="js/jquery.js"></script>
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->
    <link rel="shortcut icon" href="images/ico/icon.ico">

    <style>
        .custom-range {
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: #f1f1f1;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

        .custom-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            /*background: #BCD1BF;*/
            background: #626E64;
            cursor: pointer;
        }

        .custom-range::-webkit-slider-thumb:hover {
            background: #BCD1BF;
        }
        .custom-range::-moz-range-thumb:hover {
            background: #BCD1BF;
        }
        .custom-range::-ms-thumb:hover {
            background: #BCD1BF;
        }

        .custom-range::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border: 0;
            border-radius: 50%;
            background: #626E64;
            cursor: pointer;
        }

        .custom-range::-ms-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #626E64;
            cursor: pointer;
        }
    </style>

    <style>
        .nav-sidebar li a:hover {
            color: #FFFFFF;
            font-weight: bold;
            background-color: #BCD1BF;
        }
        .nav-link:hover {
            color: #FFFFFF;
            font-weight: bold;
            background-color: #BCD1BF;
        }
        .box-selected {
            border-radius: 2px;
            font-weight: bold;
            color: #FFFFFF;
            background-color: #626E64;
            box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;
        }
        .box-unselected {
            border-radius: 2px;
            font-weight: bold;
            background-color: #FFFFFF;
            box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;
        }
        .side-box-unselected {
            border-bottom: 1px solid lightgray;
        }
    </style>

    <style>
        .checkbox-wrapper-4 * {
            box-sizing: border-box;
        }
        .checkbox-wrapper-4 .cbx {
            -webkit-user-select: none;
            user-select: none;
            cursor: pointer;
            padding: 6px 8px;
            border-radius: 6px;
            overflow: hidden;
            transition: all 0.2s ease;
            display: inline-block;
        }
        .checkbox-wrapper-4 .cbx:not(:last-child) {
            margin-right: 6px;
        }
        .checkbox-wrapper-4 .cbx:hover {
            background: rgba(98,110,100,0.1);
        }
        .checkbox-wrapper-4 .cbx span {
            float: left;
            vertical-align: middle;
            transform: translate3d(0, 0, 0);
        }
        .checkbox-wrapper-4 .cbx span:first-child {
            position: relative;
            width: 18px;
            height: 18px;
            border-radius: 4px;
            transform: scale(1);
            border: 1px solid #626E64;
            transition: all 0.2s ease;
            box-shadow: 0 1px 1px rgba(0,16,75,0.05);
        }
        .checkbox-wrapper-4 .cbx span:first-child svg {
            position: absolute;
            top: 3px;
            left: 2px;
            fill: none;
            stroke: #FFFFFF;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 16px;
            stroke-dashoffset: 16px;
            transition: all 0.3s ease;
            transition-delay: 0.1s;
            transform: translate3d(0, 0, 0);
        }
        .checkbox-wrapper-4 .cbx span:last-child {
            padding-left: 8px;
            line-height: 18px;
        }
        .checkbox-wrapper-4 .cbx:hover span:first-child {
            border-color: #626E64;
        }
        .checkbox-wrapper-4 .inp-cbx {
            position: absolute;
            visibility: hidden;
        }
        .checkbox-wrapper-4 .inp-cbx:checked + .cbx span:first-child {
            background: #626E64;
            border-color: #626E64;
            animation: wave-4 0.4s ease;
        }
        .checkbox-wrapper-4 .inp-cbx:checked + .cbx span:first-child svg {
            stroke-dashoffset: 0;
        }
        .checkbox-wrapper-4 .inline-svg {
            position: absolute;
            width: 0;
            height: 0;
            pointer-events: none;
            user-select: none;
        }
        @media screen and (max-width: 640px) {
            .checkbox-wrapper-4 .cbx {
                width: 100%;
                display: inline-block;
            }
        }
        @-moz-keyframes wave-4 {
            50% {
                transform: scale(0.9);
            }
        }
        @-webkit-keyframes wave-4 {
            50% {
                transform: scale(0.9);
            }
        }
        @-o-keyframes wave-4 {
            50% {
                transform: scale(0.9);
            }
        }
        @keyframes wave-4 {
            50% {
                transform: scale(0.9);
            }
        }

    </style>

    <style>
        .red-text {
            color: #B74541;
        }

        .green-text {
            color: #626E64;
        }
    </style>


    <script>
        let host = 'localhost';
        let port = '9191';

        const produce_solar_url = `http://${host}:${port}/api/produce_solar`;
        const solar_offset_url = `http://${host}:${port}/api/solar_offset`;

        function getLargeNumberFormat(number) {
            let numberStr = number.toString();

            for (let i = 0; i < numberStr.length; i++) {
                let left = numberStr.slice(0,i+1);
                let right = numberStr.slice(i+1);
                let rightLength = numberStr.length - i - 1;

                if (rightLength%3 === 0 && rightLength !== 0) {
                    numberStr = left + "," + right;
                    i++;
                }
            }

            return numberStr;
        }

        function getLargeNumberAlign(numberStr) {
            if (numberStr == null) {
                return numberStr;
            }
            else if (numberStr.length === 6) {
                return "" + numberStr;
            }
            else if (numberStr.length === 5) {
                return "&nbsp;&nbsp;&nbsp;" + numberStr;
            }
            else if (numberStr.length === 4) {
                return "&nbsp;&nbsp;&nbsp;&nbsp;" + numberStr;
            }
            else if (numberStr.length === 3) {
                return "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + numberStr;
            }
            else if (numberStr.length === 2) {
                return "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + numberStr;
            }
            else {
                return "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + numberStr;
            }
        }

        function setSolarSystem(totalKwUsage, isRebate) {
            if (totalKwUsage < 0) {
                totalKwUsage = window.sessionStorage.getItem("total_kw_usage");
            }
            fetch(produce_solar_url + "?totalKwUsage=" + totalKwUsage + "&isRebate=" + isRebate)
                .then(response => response.json())
                .then(response => {
                    let table = document.getElementById("produce-solar");

                    while (table.rows.length > 0) {
                        table.deleteRow(0);
                    }

                    let thead = table.createTHead();
                    let rowHead = thead.insertRow(-1);

                    rowHead.insertCell(0).innerHTML = `<b><th scope="col">Solar System (KW)</th></b>`;
                    rowHead.insertCell(1).innerHTML = `<b><th scope="col">Installation Cost</th></b>`;
                    rowHead.insertCell(2).innerHTML = `<b><th scope="col">Payback Period (YEAR)</th></b>`;
                    rowHead.insertCell(3).innerHTML = `<b><th scope="col">Annual Savings</th></b>`;
                    rowHead.insertCell(4).innerHTML = `<b><th scope="col">Annual CO2 Reduction (KG)</th></b>`;

                    for (let i = 0; i < response.length; i++) {
                        let tbody = table.createTBody();
                        let row = tbody.insertRow(-1);
                        row.insertCell(0).innerHTML = response[i].kw;
                        row.insertCell(1).innerHTML = "$&nbsp;&nbsp;&nbsp;" + getLargeNumberAlign(getLargeNumberFormat(response[i].initialInvestment));
                        row.insertCell(2).innerHTML = getLargeNumberAlign(response[i].payBackPeriod.toFixed(1).toString());
                        row.insertCell(3).innerHTML = "$" + getLargeNumberAlign(getLargeNumberFormat(response[i].dollarReduction.toFixed(0)));
                        row.insertCell(4).innerHTML = getLargeNumberAlign(getLargeNumberFormat(response[i].co2Reduction.toFixed(0)));
                    }

                });
        }

    </script>


</head><!--/head-->
<body>
<div id="preloader"></div>
    <header class="navbar navbar-fixed-top navbar-inverse " role="banner">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <i class="fa fa-bars"></i>
                </button>
                 <a class="navbar-brand" href="index.html"><h1>Carbonique</h1></a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="calculator.html">Footprint</a></li>
                    <li><a href="report.html">Recommendation</a></li>
                    <li><a href="tip.html">Tip</a></li>
                </ul>
            </div>
        </div>
    </header><!--/header-->

<div id="content-wrapper">
    <section id="blog" class="white">
        <div class="container">
            <div class="center gap fade-down section-heading">
                <div class="gap"></div>
                <h2 class="main-title">Recommendations</h2>
            </div>

            <div class="gap"></div>
            <div class="row">


                <h2 id="total_emission" align="center"></h2>

                <h3 id="comparison" align="center"></h3>

                <br>
                <br>

            </div>

            <div class="col-md-12">

<!--                <ul class="nav nav-tabs" role="tablist">-->
<!--                    <li role="presentation" class="nav-link active">-->
<!--                        <a href="#tab1" aria-controls="tab1" role="tab" data-toggle="tab">Reduce CO2</a>-->
<!--                    </li>-->
<!--                    <li role="presentation" class="nav-link">-->
<!--                        <a href="#tab2" aria-controls="tab2" role="tab" data-toggle="tab">Buy Green Energy</a>-->
<!--                    </li>-->
<!--                    <li role="presentation" class="nav-link" id="tab3-tab">-->
<!--                        <a href="#tab3" aria-controls="tab3" role="tab" data-toggle="tab">Produce Green Energy</a>-->
<!--                    </li>-->
<!--                </ul>-->

                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12">
                            <ul class="nav row">
                                <a href="#tab1" aria-controls="tab1" role="tab" data-toggle="tab" class="nav-link col-sm-2 box-selected" style="margin: 0 10px 0 0; height: 40px; line-height: 40px;" onclick="highlightTopNav(this)">Reduce CO2</a>&nbsp;&nbsp;&nbsp;
                                <a href="#tab2" aria-controls="tab2" role="tab" data-toggle="tab" class="nav-link col-sm-2 box-unselected" style="margin: 0 10px 0 0; height: 40px; line-height: 40px;" onclick="highlightTopNav(this)">Buy Green Energy</a>&nbsp;&nbsp;&nbsp;
                                <a href="#tab3" aria-controls="tab3" role="tab" data-toggle="tab" class="nav-link col-sm-3 box-unselected" style="height: 40px; line-height: 40px;" onclick="highlightTopNav(this)">Produce Green Energy</a>
                            </ul>
                        </div>
                    </div>
                </div>

                <script>
                    function highlightTopNav(navLink) {
                        const navLinks = document.querySelectorAll('.nav-link');
                        navLinks.forEach(link => {
                            link.classList.remove('box-selected');
                            link.classList.add('box-unselected');
                        });

                        navLink.classList.remove('box-unselected');
                        navLink.classList.add('box-selected');
                        navLink.blur();
                    }
                </script>

                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="tab1">

                        <div class="post">
                            <div class="content">

                                <h2 class="post-title">Energy Profile</h2>
                                <div>
                                    Following is your energy profile:
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <hr>
                                    </div>
                                </div>

                                <table class="table1" style="width: 100%">
                                    <thead>
                                    <tr>
                                        <th scope="col">Category</th>
                                        <th scope="col">Current CO2 Emission</th>
                                        <th scope="col">Potential CO2 Reduction</th>
                                        <th scope="col">Potential Savings</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td><img src="images/ico/light-bulb.ico" style="width: 18px;height: 18px"/><a href="#tip-lighting" style="text-decoration: underline;">Lighting</a></td>
                                        <td id="Lighting_value"></td>
                                        <td id="lighting_reduce"></td>
                                        <td id="lighting_saving"></td>
                                    </tr>
                                    <tr>
                                        <td><img src="images/ico/water.ico" style="width: 18px;height: 18px"/><a href="#tip-hot-water" style="text-decoration: underline;">Hot Water</a></td>
                                        <td id="hotwater_value"></td>
                                        <td id="hotwater_reduce"></td>
                                        <td id="hotwater_saving"></td>
                                    </tr>
                                    <tr>
                                        <td><img src="images/ico/heating.ico" style="width: 18px;height: 18px"/><a href="#tip-heating" style="text-decoration: underline;">Heating</a></td>
                                        <td id="heating_value"></td>
                                        <td id="heating_reduce"></td>
                                        <td id="heating_saving"></td>
                                    </tr>
                                    <tr>
                                        <td><img src="images/ico/fridge.ico" style="width: 18px;height: 18px"/><a href="#tip-fridge" style="text-decoration: underline;">Refrigeration</a></td>
                                        <td id="fridge_value"></td>
                                        <td id="fridge_reduce"></td>
                                        <td id="fridge_saving"></td>
                                    </tr>

                                    <tr>
                                        <td><img src="images/ico/tumble-dryer.ico" style="width: 18px;height: 18px"/><a href="#tip-dryer" style="text-decoration: underline;">Cloth Dryer</a></td>
                                        <td id="dryer_value"></td>
                                        <td id="dryer_reduce"></td>
                                        <td id="dryer_saving"></td>
                                    </tr>

                                    <tr>
                                        <td><img src="images/ico/solar-energy.ico" style="width: 20px;height: 20px"/><a onclick="switchTab()" style="text-decoration: underline; cursor: pointer;">Solar Offset</a></td>
                                        <td id="solar_offset"></td>
                                        <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---</td>
                                        <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---</td>
                                    </tr>
                                    <script>
                                        function switchTab() {
                                            $('.nav-link').removeClass('active');
                                            $('.tab-pane').removeClass('active');

                                            $('#tab3-tab').addClass('active');
                                            $('#tab3').addClass('active');
                                        }
                                    </script>

                                    </tbody>
                                </table>

                                <script>
                                   let lighting_value = document.getElementById("Lighting_value")
                                   let lighting_reduce = document.getElementById("lighting_reduce")
                                   let lighting_saving = document.getElementById("lighting_saving")

                                   let hotwater_value = document.getElementById("hotwater_value")
                                   let hotwater_reduce = document.getElementById("hotwater_reduce")
                                   let hotwater_saving = document.getElementById("hotwater_saving")

                                   let heating_value = document.getElementById("heating_value")
                                   let heating_reduce = document.getElementById("heating_reduce")
                                   let heating_saving = document.getElementById("heating_saving")

                                   let fridge_value = document.getElementById("fridge_value")
                                   let fridge_reduce = document.getElementById("fridge_reduce")
                                   let fridge_saving = document.getElementById("fridge_saving")

                                   let dryer_value = document.getElementById("dryer_value")
                                   let dryer_reduce = document.getElementById("dryer_reduce")
                                   let dryer_saving = document.getElementById("dryer_saving")

                                   let comparison = document.getElementById("comparison");
                                   let comparison_value = window.sessionStorage.getItem("comparison")
                                   let comparison_boolean = window.sessionStorage.getItem("comparison_boolean")

                                   if (comparison_boolean === 'higher') {
                                       comparison.innerHTML = "Your energy usage is <span class='red-text'>"+comparison_value+"% higher</span> than similar homes in Melbourne";
                                   }
                                   else {
                                       comparison.innerHTML = "Your energy usage is <span class='green-text'>"+comparison_value.substr(1)+"% lower</span> than similar homes in Melbourne";
                                   }
                                   function setCurrencyAlign(element, itemName) {
                                       if (window.sessionStorage.getItem(itemName) == null) {
                                           element.innerHTML = "&nbsp;&nbsp;&nbsp;$" + window.sessionStorage.getItem(itemName);
                                       }
                                       else if (window.sessionStorage.getItem(itemName).length === 4) {
                                           element.innerHTML = "&nbsp;&nbsp;&nbsp;$" + window.sessionStorage.getItem(itemName);
                                       }
                                       else if (window.sessionStorage.getItem(itemName).length === 3) {
                                           element.innerHTML = "&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;" + window.sessionStorage.getItem(itemName);
                                       }
                                       else if (window.sessionStorage.getItem(itemName).length === 2) {
                                           element.innerHTML = "&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + window.sessionStorage.getItem(itemName);
                                       }
                                       else {
                                           element.innerHTML = "&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + window.sessionStorage.getItem(itemName);
                                       }
                                   }

                                   function setReductionAlign(element, itemName) {
                                       if (window.sessionStorage.getItem(itemName) == null) {
                                           element.innerHTML = window.sessionStorage.getItem(itemName) + " %";
                                       }
                                       else if (window.sessionStorage.getItem(itemName).length === 3) {
                                           element.innerHTML = window.sessionStorage.getItem(itemName) + " %";
                                       }
                                       else if (window.sessionStorage.getItem(itemName).length === 2) {
                                           element.innerHTML = "&nbsp;&nbsp;&nbsp;" + window.sessionStorage.getItem(itemName) + " %";
                                       }
                                       else {
                                           element.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + window.sessionStorage.getItem(itemName) + " %";
                                       }
                                   }

                                   lighting_value.innerHTML = "&nbsp;&nbsp;" + getLargeNumberAlign(getLargeNumberFormat(window.sessionStorage.getItem("4_co2InKg"))) + " KG";

                                   setReductionAlign(lighting_reduce, "4_co2Saving")
                                   setCurrencyAlign(lighting_saving,"4_moneySaving");

                                   hotwater_value.innerHTML = "&nbsp;&nbsp;" + getLargeNumberAlign(getLargeNumberFormat(window.sessionStorage.getItem("2_co2InKg"))) + " KG";

                                   setReductionAlign(hotwater_reduce, "2_co2Saving")
                                   setCurrencyAlign(hotwater_saving,"2_moneySaving");

                                   heating_value.innerHTML = "&nbsp;&nbsp;" + getLargeNumberAlign(getLargeNumberFormat(window.sessionStorage.getItem("1_co2InKg"))) + " KG";

                                   setReductionAlign(heating_reduce, "1_co2Saving")
                                   setCurrencyAlign(heating_saving,"1_moneySaving");

                                   fridge_value.innerHTML = "&nbsp;&nbsp;" + getLargeNumberAlign(getLargeNumberFormat(window.sessionStorage.getItem("3_co2InKg"))) + " KG";

                                   setReductionAlign(fridge_reduce, "3_co2Saving")
                                   setCurrencyAlign(fridge_saving,"3_moneySaving");

                                   dryer_value.innerHTML = "&nbsp;&nbsp;" + getLargeNumberAlign(getLargeNumberFormat(window.sessionStorage.getItem("7_co2InKg"))) + " KG";

                                   setReductionAlign(dryer_reduce, "7_co2Saving")
                                   setCurrencyAlign(dryer_saving,"7_moneySaving");


                                </script>

                                <div class="row">
                                    <div class="col-md-12">
                                        <hr>
                                    </div>
                                </div>


                                <h2 class="post-title">
                                    Reduction Recommendation
                                </h2>
                                <div>
                                    Based on your energy profile, we give you following suggestions:
                                </div>

                                <div>

                                    <div id="tip-lighting" class="row">
                                        <div class="col-md-12">
                                            <hr>
                                        </div>
                                    </div>

                                    <div>
                                        <b><img src="images/ico/light-bulb.ico" style="width: 18px;height: 18px"/>Lighting</b><br>
                                        <div id="lighting-recommendation"></div>
                                    </div>

                                    <script>
                                        let lightingRecommendation = document.getElementById("lighting-recommendation");
                                        lightingRecommendation.innerHTML = window.sessionStorage.getItem("lighting_recommendation");
                                    </script>

                                    <div id="tip-hot-water" class="row">
                                        <div class="col-md-12">
                                            <hr>
                                        </div>
                                    </div>

                                    <div>
                                        <b><img src="images/ico/water.ico" style="width: 18px;height: 18px"/>Hot Water</b><br>
                                        <div id="hot-water-recommendation"></div>

                                    </div>

                                    <script>
                                        let hotWaterRecommendation = document.getElementById("hot-water-recommendation");
                                        hotWaterRecommendation.innerHTML = window.sessionStorage.getItem("hot_water_recommendation");
                                    </script>

                                    <div id="tip-heating" class="row">
                                        <div class="col-md-12">
                                            <hr>
                                        </div>
                                    </div>

                                    <div>
                                        <b><img src="images/ico/heating.ico" style="width: 18px;height: 18px"/>Heating</b><br>
                                        <div id="heating-recommendation"></div>

                                    </div>

                                    <script>
                                        let heatingRecommendation = document.getElementById("heating-recommendation");
                                        heatingRecommendation.innerHTML = window.sessionStorage.getItem("heating_recommendation");
                                    </script>

                                    <div id="tip-fridge" class="row">
                                        <div class="col-md-12">
                                            <hr>
                                        </div>
                                    </div>

                                    <div>
                                        <b><img src="images/ico/fridge.ico" style="width: 18px;height: 18px"/>Refrigeration</b><br>
                                        <div id="fridge-recommendation"></div>

                                    </div>

                                    <script>
                                        let fridgeRecommendation = document.getElementById("fridge-recommendation");
                                        fridgeRecommendation.innerHTML = window.sessionStorage.getItem("fridge_recommendation");
                                    </script>

                                    <div id="tip-dryer" class="row">
                                        <div class="col-md-12">
                                            <hr>
                                        </div>
                                    </div>

                                    <div>
                                        <b><img src="images/ico/tumble-dryer.ico" style="width: 18px;height: 18px"/>Cloth Dryer</b><br>
                                        <div id="dryer-recommendation"></div>

                                    </div>

                                    <script>
                                        let dryerRecommendation = document.getElementById("dryer-recommendation");
                                        dryerRecommendation.innerHTML = window.sessionStorage.getItem("dryer_recommendation");
                                    </script>

                                </div>

                            </div>
                        </div>

                    </div>
                    <div role="tabpanel" class="tab-pane" id="tab2">

                        <div class="post">
                            <div class="content">
                                <h2 class="post-title">Green Energy Coverage</h2>
                                <div>
                                    Followings are retailers with different green energy percentage options
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <hr>
                                    </div>
                                </div>

<!--                                <div class="col-md-12">-->
<!--                                    <div class="col-sm-3 col-md-2">-->
<!--                                        <b>Green Energy Coverage</b>-->
<!--                                    </div>-->

<!--                                    <div class="col-sm-9 col-md-10">-->
<!--                                        <b>Retailer Information</b>-->
<!--                                    </div>-->

<!--                                </div>-->

<!--                                <div class="row">-->
<!--                                    <div class="col-md-12">-->
<!--                                        <hr>-->
<!--                                    </div>-->
<!--                                </div>-->

                                <div class="container-fluid">
                                    <div class="row">

                                        <div class="col-sm-3 col-md-2 sidebar">
                                            <ul class="nav nav-sidebar">
                                                <li><a href="#section1" data-toggle="tab" onclick="highlightNav(this)" class="side-nav box-selected">&nbsp;&nbsp;&nbsp;50 %</a></li>
                                                <li><a href="#section2" data-toggle="tab" onclick="highlightNav(this)" class="side-nav side-box-unselected">&nbsp;&nbsp;&nbsp;75 %</a></li>
                                                <li><a href="#section3" data-toggle="tab" onclick="highlightNav(this)" class="side-nav side-box-unselected">100 %</a></li>
                                            </ul>
                                        </div>

                                        <div class="col-sm-9 col-md-10 main">
                                            <div class="tab-content">
                                                <div id="section1" class="tab-pane fade in active">

                                                    <table class="table1" style="width: 100%">
                                                        <thead>
                                                        <tr>
                                                            <th scope="col">Category</th>
                                                            <th scope="col">Current CO2 Emission</th>
                                                            <th scope="col">Potential CO2 Reduction</th>
                                                            <th scope="col">Potential Savings</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>Lighting</td>
                                                                <td>1234</td>
                                                                <td>5678</td>
                                                                <td>1234</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Lighting</td>
                                                                <td>1234</td>
                                                                <td>5678</td>
                                                                <td>1234</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Lighting</td>
                                                                <td>1234</td>
                                                                <td>5678</td>
                                                                <td>1234</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Lighting</td>
                                                                <td>1234</td>
                                                                <td>5678</td>
                                                                <td>1234</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Lighting</td>
                                                                <td>1234</td>
                                                                <td>5678</td>
                                                                <td>1234</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>

                                                </div>
                                                <div id="section2" class="tab-pane fade">

                                                    <table class="table1" style="width: 100%">
                                                        <thead>
                                                        <tr>
                                                            <th scope="col">Category</th>
                                                            <th scope="col">Current CO2 Emission</th>
                                                            <th scope="col">Potential CO2 Reduction</th>
                                                            <th scope="col">Potential Savings</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr>
                                                            <td>Lighting</td>
                                                            <td>1234</td>
                                                            <td>5678</td>
                                                            <td>1234</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Lighting</td>
                                                            <td>1234</td>
                                                            <td>5678</td>
                                                            <td>1234</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Lighting</td>
                                                            <td>1234</td>
                                                            <td>5678</td>
                                                            <td>1234</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Lighting</td>
                                                            <td>1234</td>
                                                            <td>5678</td>
                                                            <td>1234</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Lighting</td>
                                                            <td>1234</td>
                                                            <td>5678</td>
                                                            <td>1234</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>

                                                </div>
                                                <div id="section3" class="tab-pane fade">

                                                    <table class="table1" style="width: 100%">
                                                        <thead>
                                                        <tr>
                                                            <th scope="col">Category</th>
                                                            <th scope="col">Current CO2 Emission</th>
                                                            <th scope="col">Potential CO2 Reduction</th>
                                                            <th scope="col">Potential Savings</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr>
                                                            <td>Lighting</td>
                                                            <td>1234</td>
                                                            <td>5678</td>
                                                            <td>1234</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Lighting</td>
                                                            <td>1234</td>
                                                            <td>5678</td>
                                                            <td>1234</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Lighting</td>
                                                            <td>1234</td>
                                                            <td>5678</td>
                                                            <td>1234</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Lighting</td>
                                                            <td>1234</td>
                                                            <td>5678</td>
                                                            <td>1234</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Lighting</td>
                                                            <td>1234</td>
                                                            <td>5678</td>
                                                            <td>1234</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <script>
                                    function highlightNav(navLink) {
                                        const navLinks = document.querySelectorAll('.side-nav');
                                        navLinks.forEach(link => {
                                            link.classList.remove('box-selected');
                                            link.classList.add('side-box-unselected')
                                        });

                                        navLink.classList.remove('side-box-unselected');
                                        navLink.classList.add('box-selected');
                                        navLink.blur();
                                    }
                                </script>


                            </div>
                        </div>

                    </div>
                    <div role="tabpanel" class="tab-pane" id="tab3">

                        <div class="post">
                            <div class="content">

                                <h2 class="post-title">Installing Solar System</h2>
                                <br>
                                <form>
                                    <p>Based on your profile, the estimated electricity usage per day is <span id="weeklyUsage"></span> Kwh, you can use the following slider to adjust your usage.</p>
                                    <p>Daily Electricity Usage: <span id="rangeValue"></span> Kwh</p>
                                    <input type="range" class="custom-range" id="myRange" min="0" max="240" step="2">

                                </form>

                                <div class="checkbox-wrapper-4 form-group col-md-6" style="margin: 20px 0 5px 0; padding: 0;">
                                    <input class="inp-cbx" id="rebate" type="checkbox"/>
                                    <label class="cbx" for="rebate">
                                            <span>
                                                <svg width="12px" height="10px">
                                                    <use xlink:href="#check-4"></use>
                                                </svg>
                                            </span>
                                        <span>Incl. Gov't Rebate</span></label>
                                    <svg class="inline-svg">
                                        <symbol id="check-4" viewbox="0 0 12 10">
                                            <polyline points="1.5 6 4.5 9 10.5 1"></polyline>
                                        </symbol>
                                    </svg>
                                </div>

                                <script>
                                    const weeklyUsage = document.getElementById("weeklyUsage");
                                    const estimatedUsage = (parseFloat(window.sessionStorage.getItem("total_kw_usage")) / 365.25).toFixed(0);
                                    weeklyUsage.innerHTML = "" + estimatedUsage;

                                    const rangeInput = document.getElementById('myRange');
                                    const rangeValue = document.getElementById('rangeValue');
                                    rangeInput.value = estimatedUsage;
                                    rangeValue.textContent = rangeInput.value;

                                    function rangeEvent() {
                                        rangeValue.textContent = rangeInput.value;
                                        setSolarSystem(rangeInput.value * 365.25, 'false');
                                    }

                                    function rangeRebateEvent() {
                                        rangeValue.textContent = rangeInput.value;
                                        setSolarSystem(rangeInput.value * 365.25, 'true');
                                    }

                                    rangeInput.addEventListener('input', rangeEvent);
                                    
                                    const checkBox = document.getElementById('rebate');

                                    checkBox.addEventListener('change', function () {
                                        rangeValue.textContent = rangeInput.value;

                                        if (this.checked) {
                                            setSolarSystem(rangeInput.value * 365.25, 'true');

                                            rangeInput.removeEventListener('input', rangeEvent);
                                            rangeInput.addEventListener('input', rangeRebateEvent);
                                        }
                                        else {
                                            setSolarSystem(rangeInput.value * 365.25, 'false');

                                            rangeInput.removeEventListener('input', rangeRebateEvent);
                                            rangeInput.addEventListener('input', rangeEvent);
                                        }
                                    });
                                </script>

                                <div class="row">
                                    <div class="col-md-12">
                                        <hr style="margin: 5px 0 20px 0;">
                                    </div>
                                </div>

                                <table class="table3" style="width: 100%" id="produce-solar">
                                </table>

                            </div>

                            <script>
                                let total_emission = document.getElementById("total_emission");

                                if (window.sessionStorage.getItem("solar_system") !== null) {
                                    fetch(solar_offset_url + "?kw=" + window.sessionStorage.getItem("solar_system"))
                                        .then(response => response.json())
                                        .then(response => {
                                            let solarOffset = document.getElementById("solar_offset");

                                            if (window.sessionStorage.getItem("total_emission") - response.annualGeneration.toFixed(0) <= 0) {
                                                total_emission.innerText = "Your Carbon Emissions are Nett Neutral";
                                            }
                                            else {
                                                total_emission.innerText = "Your Estimated Annual Carbon Emissions are " + (window.sessionStorage.getItem("total_emission") - response.annualGeneration.toFixed(0)) + " KG";
                                            }

                                            if (response.annualGeneration === 0) {
                                                solarOffset.innerHTML = "&nbsp;&nbsp;" + getLargeNumberAlign(getLargeNumberFormat(response.annualGeneration)) + " KG";
                                            }
                                            else {
                                                solarOffset.innerHTML = "-" + getLargeNumberAlign(getLargeNumberFormat(response.annualGeneration.toFixed(0))) + " KG";
                                            }
                                        });
                                }
                                else {
                                    total_emission.innerText = "Your Estimated Annual Carbon Emissions are " + window.sessionStorage.getItem("total_emission") + " KG per year";
                                }

                                setSolarSystem(-1);
                            </script>

                        </div>

                    </div>
                </div>



            </div>


        </div>
    </section>


</div><!-- row -->
<div class="gap"></div>

    <div id="footer-wrapper">
        <section id="bottom" class="">
            <div class="container">
                <div class="row">
                     

                    <div class="col-md-3 col-sm-6">
                        <h4>Sponsors</h4>
                        <div>
                            <ul class="arrow">
                                <li><a href="#arrow">Energy Victoria</a></li>
                                <li><a href="#arrow">Clean Energy Regulator</a></li>
                                <li><a href="#arrow">Sustainability Victoria</a></li>
                                <li><a href="#arrow">Community groups</a></li>
                                <li><a href="#arrow">Energy Retailer</a></li>
                                <li><a href="#arrow">Energy Wholesaler</a></li>
                            </ul>
                        </div>
                    </div><!--/.col-md-3-->

                    <div class="col-md-3 col-sm-6">
                        <h4>Latest Articles</h4>
                        <div>
                            <div class="media">
                                <div class="pull-left">
                                    <img class="widget-img" src="images/portfolio/folio1.jpg" alt="">
                                </div>
                                <div class="media-body">
                                    <span class="media-heading"><a href="#">Blog Post A</a></span>
                                    <small class="muted">Posted 14 April 2019</small>
                                </div>
                            </div>
                            <div class="media">
                                <div class="pull-left">
                                    <img class="widget-img" src="images/portfolio/folio2.jpg" alt="">
                                </div>
                                <div class="media-body">
                                    <span class="media-heading"><a href="#">Blog Post B</a></span>
                                    <small class="muted">Posted 14 April 2019</small>
                                </div>
                            </div>
                        </div>
                    </div><!--/.col-md-3-->

                    <div class="col-md-3 col-sm-6">
                        <h4>Contact Us</h4>
                        <address>
                            <strong>TA11</strong><br>
                            Wellington Rd<br>
                            Clayton VIC 3800<br>
                            <abbr title="Phone"><i class="fa fa-phone"></i></abbr> +61 0421 790 341
                        </address>
                    </div> <!--/.col-md-3-->
                </div>
            </div>
        </section><!--/#bottom-->

        <a id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top" role="button" title="Click to return on the top page" data-toggle="tooltip" data-placement="left">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </a>


        <style type="text/css">
            .back-to-top {
                cursor: pointer;
                position: fixed;
                bottom: 20px;
                right: 20px;
                display:none;
            }
        </style>

        <script>
            $(document).ready(function(){
                $(window).scroll(function () {
                    if ($(this).scrollTop() > 50) {
                        $('#back-to-top').fadeIn();
                    } else {
                        $('#back-to-top').fadeOut();
                    }
                });
                // scroll body to 0px on click
                $('#back-to-top').click(function () {
                    $('#back-to-top').tooltip('hide');
                    $('body,html').animate({
                        scrollTop: 0
                    }, 800);
                    return false;
                });

                $('#back-to-top').tooltip('show');

            });
        </script>

        <footer id="footer" class="">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8">
                        Copyright &copy; TA11 All rights reserved.
                    </div>
                    <!--<div class="col-sm-4">
                        <ul class="pull-right">
                            <li><a id="gototop" class="gototop" href="#"><i class="fa fa-chevron-up"></i></a></li>&lt;!&ndash;#gototop&ndash;&gt;
                        </ul>
                    </div>-->
                </div>
            </div>
        </footer><!--/#footer-->
    </div>


    <script src="js/plugins.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>


    <script src="js/init.js"></script>
</body>
</html>